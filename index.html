Ø¶Ø¹<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ØªÙ‚ÙˆÙŠÙ… Ø¨Ø§Ø¨Ù„</title>

  <!-- Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/min/moment.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/moment-hijri@2.1.2/moment-hijri.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/moment-jalaali@0.9.4/build/moment-jalaali.js"></script>

  <style>
    body{font-family:Arial,sans-serif;background:#f4f6f9;text-align:center;margin:0;padding:0}
    h1{margin-top:28px;color:#1f6f43;font-size:42px;letter-spacing:1px}
    .container{max-width:820px;margin:18px auto;background:#fff;padding:22px;border-radius:18px;box-shadow:0 6px 18px rgba(0,0,0,.10)}
    .row{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin:12px 0}
    input,select{padding:12px;margin:4px;width:150px;text-align:center;border:1px solid #ddd;border-radius:10px;font-size:18px;outline:none}
    select{width:300px}
    button{background:#1f6f43;color:#fff;border:none;padding:12px 26px;border-radius:12px;cursor:pointer;margin-top:10px;font-size:20px;font-weight:700}
    button:active{transform:scale(.99)}
    .hint{margin-top:10px;color:#444;font-size:14px;line-height:1.6}
    .results{margin-top:18px;background:#f3f7ff;padding:16px;border-radius:14px;text-align:right;font-size:18px;line-height:1.9}
    .line{background:#fff;border-radius:10px;padding:10px 12px;margin:8px 0;border:1px solid #e7eefc}
    .label{color:#1f6f43;font-weight:700;margin-left:6px}
    .error{margin-top:14px;background:#ffecec;color:#b10000;padding:12px;border-radius:12px;font-size:16px;text-align:center;border:1px solid #ffd0d0}
  </style>
</head>

<body>
  <h1>ØªÙ‚ÙˆÙŠÙ… Ø¨Ø§Ø¨Ù„</h1>

  <div class="container">
    <h2>Ø£Ø¯Ø®Ù„ Ø§Ù„ØªØ§Ø±ÙŠØ®</h2>

    <div class="row">
      <input type="number" id="day" placeholder="Ø§Ù„ÙŠÙˆÙ…" />
      <input type="number" id="month" placeholder="Ø§Ù„Ø´Ù‡Ø±" />
      <input type="number" id="year" placeholder="Ø§Ù„Ø³Ù†Ø©" />
    </div>

    <div class="row">
      <select id="inputType">
        <option value="g">Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„: Ù…ÙŠÙ„Ø§Ø¯ÙŠ</option>
        <option value="h">Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„: Ù‡Ø¬Ø±ÙŠ Ù‚Ù…Ø±ÙŠ</option>
        <option value="b">Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„: Ø¨Ø§Ø¨Ù„ÙŠ Ø´Ù…Ø³ÙŠ (Ø¬Ù„Ø§Ù„ÙŠ Ø±Ù‚Ù…Ø§Ù‹)</option>
      </select>

      <input type="number" id="hijriOffset" value="0" placeholder="ØªØµØ­ÙŠØ­ Ø§Ù„Ù‡Ø¬Ø±ÙŠ Â± ÙŠÙˆÙ…" />
    </div>

    <button onclick="convertAll()">ØªØ­ÙˆÙŠÙ„</button>

    <div class="hint">
      âœ… Ø§Ù„Ø¨Ø§Ø¨Ù„ÙŠ Ø§Ù„Ø´Ù…Ø³ÙŠ = Ù†ÙØ³ Ø§Ù„Ø¬Ù„Ø§Ù„ÙŠ Ø¨Ø§Ù„Ø­Ø³Ø§Ø¨ØŒ Ù„ÙƒÙ† Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø£Ø´Ù‡Ø± ØªØ¨Ø¯Ø£ Ø¨Ù€ <b>Ø±Ù…Ø¶Ø§Ù†</b>.<br>
      âœ… ÙŠÙ…ÙƒÙ†Ùƒ ØªØµØ­ÙŠØ­ Ø§Ù„Ù‡Ø¬Ø±ÙŠ (Ù…Ø«Ù„Ø§Ù‹ +1 Ø£Ùˆ -1) Ù„ØªØ·Ø§Ø¨Ù‚ ØªÙ‚ÙˆÙŠÙ… Ù‡Ø§ØªÙÙƒ/Ø§Ù„Ø±Ø¤ÙŠØ©.
    </div>

    <div id="msg"></div>

    <div class="results" id="results" style="display:none;">
      <div class="line"><span class="label">Ù…ÙŠÙ„Ø§Ø¯ÙŠ:</span> <span id="outG"></span></div>
      <div class="line"><span class="label">Ù‡Ø¬Ø±ÙŠ Ù‚Ù…Ø±ÙŠ:</span> <span id="outH"></span></div>
      <div class="line"><span class="label">Ø¨Ø§Ø¨Ù„ÙŠ Ø´Ù…Ø³ÙŠ:</span> <span id="outB"></span></div>
    </div>
  </div>

<script>
  const babylonMonths = [
    "Ø±Ù…Ø¶Ø§Ù†","Ø´ÙˆØ§Ù„","Ø°Ùˆ Ø§Ù„Ù‚Ø¹Ø¯Ø©","Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©",
    "Ù…Ø­Ø±Ù…","ØµÙØ±","Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„","Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ",
    "Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø£ÙˆÙ„Ù‰","Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø¢Ø®Ø±Ø©","Ø±Ø¬Ø¨","Ø´Ø¹Ø¨Ø§Ù†"
  ];

  function showError(text){
    document.getElementById("results").style.display = "none";
    document.getElementById("msg").innerHTML = `<div class="error">${text}</div>`;
  }
  function clearError(){
    document.getElementById("msg").innerHTML = "";
  }

  function convertAll(){
    clearError();

    const d = parseInt(document.getElementById("day").value, 10);
    const m = parseInt(document.getElementById("month").value, 10);
    const y = parseInt(document.getElementById("year").value, 10);
    const inputType = document.getElementById("inputType").value;
    const offset = parseInt(document.getElementById("hijriOffset").value || "0", 10);

    if(!d || !m || !y){
      showError("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙŠÙˆÙ… ÙˆØ§Ù„Ø´Ù‡Ø± ÙˆØ§Ù„Ø³Ù†Ø©");
      return;
    }

    let baseG; // Ù„Ø­Ø¸Ø© Ù…ÙŠÙ„Ø§Ø¯ÙŠØ© ÙƒØ£Ø³Ø§Ø³

    if(inputType === "g"){
      baseG = moment(`${y}-${m}-${d}`, "YYYY-M-D", true);
      if(!baseG.isValid()){ showError("ØªØ§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­"); return; }
    }

    if(inputType === "h"){
      const h = moment(`${y}/${m}/${d}`, "iYYYY/iM/iD", true);
      if(!h.isValid()){ showError("ØªØ§Ø±ÙŠØ® Ù‡Ø¬Ø±ÙŠ Ù‚Ù…Ø±ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­"); return; }
      baseG = h.clone().subtract(offset, "days"); // Ø¹ÙƒØ³ Ø§Ù„ØªØµØ­ÙŠØ­ Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
    }

    if(inputType === "b"){
      const b = moment(`${y}/${m}/${d}`, "jYYYY/jM/jD", true);
      if(!b.isValid()){ showError("ØªØ§Ø±ÙŠØ® Ø¨Ø§Ø¨Ù„ÙŠ Ø´Ù…Ø³ÙŠ/Ø¬Ù„Ø§Ù„ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­"); return; }
      baseG = b.clone(); // Ø¯Ø§Ø®Ù„ÙŠØ§Ù‹ moment-jalaali ÙŠØ­ÙØ¸Ù‡ ÙˆÙŠÙ‚Ø¯Ø± ÙŠØ·Ù„Ø¹ Ù…ÙŠÙ„Ø§Ø¯ÙŠ
    }

    // Ø§Ù„Ù†ØªØ§Ø¦Ø¬
    const outG = baseG.format("YYYY-MM-DD");
    const outH = baseG.clone().add(offset, "days").format("iYYYY/iM/iD");

    const jy = baseG.jYear();
    const jm = baseG.jMonth() + 1; // 1..12
    const jd = baseG.jDate();
    const bName = babylonMonths[jm - 1] || ("Ø´Ù‡Ø± " + jm);
    const outB = `${jd} ${bName} ${jy}  (Ø±Ù‚Ù…ÙŠØ§Ù‹: ${jy}/${jm}/${jd})`;

    document.getElementById("outG").textContent = outG;
    document.getElementById("outH").textContent = outH;
    document.getElementById("outB").textContent = outB;

    document.getElementById("results").style.display = "block";
  }
  // Ø¹Ø±Ø¶ ØªØ§Ø±ÙŠØ® Ø§Ù„ÙŠÙˆÙ… ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
window.onload = function () {
    const today = moment();
    
    const gregorian = today.format("YYYY/MM/DD");
    const hijri = today.clone().format("iYYYY/iM/iD");
    
    const days = ["Ø§Ù„Ø£Ø­Ø¯","Ø§Ù„Ø§Ø«Ù†ÙŠÙ†","Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡","Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡","Ø§Ù„Ø®Ù…ÙŠØ³","Ø§Ù„Ø¬Ù…Ø¹Ø©","Ø§Ù„Ø³Ø¨Øª"];
    const dayName = days[today.day()];
    
    const output = document.getElementById("output");
    output.innerHTML = `
    ğŸ“… Ø§Ù„ÙŠÙˆÙ…: ${dayName}<br><br>
    Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ: ${gregorian}<br>
    Ø§Ù„Ù‡Ø¬Ø±ÙŠ Ø§Ù„Ù‚Ù…Ø±ÙŠ: ${hijri}
    `;
};

}); 
</script>
</body>
</html>
